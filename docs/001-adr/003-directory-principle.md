# ADR-003: 1 Repository = 1 Directory 原則

**決定日**: 2025-05-31  
**ステータス**: 採用  

## コンテキスト

Git worktree の標準的な使用方法では、リポジトリ周辺に多数のディレクトリが散乱し、視認性と管理性が大幅に低下する。特に複数のリポジトリを扱う環境では、この問題が深刻化する。

典型的な問題例：
```
~/projects/
├── myapp/
├── myapp-feature-auth/
├── myapp-feature-payment/
├── myapp-hotfix-security/
├── backend-api/
├── backend-api-v2-migration/
└── frontend-ui-redesign/
```

## 決定

各リポジトリを独立したディレクトリに封じ込め、内部に `.bare/` と `.wt/` を配置する構造を採用する。

## 根拠

1. **視認性の最大化**: リポジトリの境界が明確
2. **IDE 検索範囲の最適化**: 無関係なディレクトリを検索対象から除外
3. **管理の簡素化**: リポジトリ単位での操作が容易
4. **スケーラビリティ**: リポジトリ数の増加に対して線形的にスケール

## 影響

- **正の影響**:
  - ディレクトリ構造が直感的で理解しやすい
  - IDE のプロジェクト検索が高速化
  - リポジトリ単位での操作（削除、移動など）が安全

- **負の影響**:
  - 既存ツールとの互換性に影響する可能性
  - 初期学習コストが発生

- **対応策**:
  - 既存ツールとの互換性を検証・ドキュメント化
  - 移行ガイドの提供 