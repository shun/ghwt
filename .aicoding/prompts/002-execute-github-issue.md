# GitHub Issue実行プロンプト

GitHub Issue実行ルール（`.aicoding/rules/002-execute-github-issue.yaml`）と日付統一ルール（`.aicoding/rules/003-document-date-consistency.yaml`）に従って、指定されたIssue番号のタスクを**完全自動化**で実行します。

## 🚀 クイックスタート

**Issue番号を教えてください：**
実行したいGitHub Issueの番号（例：#123、123、issue-123など）

---

## ⚡ 完全自動化プロセス

### 🔄 自動実行フロー
1. **📅 日付確認** → `date '+%Y-%m-%d'` で現在日付を取得・統一使用
2. **🌿 ブランチ自動作成** → `feature/issue-{番号}-{タイトル}`
3. **📋 Issue内容取得・分析** → タスクリストと完了条件の理解
4. **📝 実行計画策定・即座実行** → 人間の承認を待たずに開始
5. **⚡ タスク並列/逐次実行** → リアルタイムでチェックボックス更新
6. **📄 ドキュメント作成・更新** → 統一日付で一貫性保持
7. **🔀 Pull Request自動作成** → 完了報告コメント付き
8. **🔒 Issue自動クローズ** → PR作成後（設定により）

### ✨ 自動化機能
- **📅 日付統一**: 全ドキュメントで現在日付（YYYY-MM-DD）を統一使用
- **🌿 ブランチ管理**: Issue番号とタイトルから自動命名・作成
- **☑️ チェックボックス更新**: 各タスク完了時にリアルタイム更新
- **📝 進捗報告**: タスク完了時に自動コメント追加
- **📄 ドキュメント品質**: 日付形式・一貫性の自動検証
- **🔀 PR作成**: 全タスク完了後に自動でPull Request作成
- **💬 完了報告**: 成果物と実装内容の自動サマリー
- **🔒 Issue完了**: PR作成後の自動クローズ（オプション）

### 🎯 実行方式
- **✨並列実行**: 独立したタスクを同時進行で効率化
- **➡️逐次実行**: 依存関係を考慮した適切な順序実行
- **📊 可視化**: チェックボックスによるリアルタイム進捗表示
- **🤖 自動化**: 手動介入を最小限に抑えた完全自動プロセス

---

## 📅 ドキュメント日付統一

### 必須手順（ドキュメント作業時）
1. **D1: 現在日付確認** → `date '+%Y-%m-%d'` で正確な日付取得
2. **D2: 一貫適用** → セッション中は同じ日付を全ドキュメントで使用
3. **D3: 形式検証** → YYYY-MM-DD形式の統一確認

### 適用箇所
| ドキュメント種別 | 設定箇所 | 形式例 |
|-----------------|----------|--------|
| 仕様書 | `**Date**: YYYY-MM-DD` | `**Date**: 2025-05-31` |
| 要件定義書 | `Version X.X — YYYY-MM-DD` | `Version 1.0 — 2025-05-31` |
| ADR | `**決定日**: YYYY-MM-DD` | `**決定日**: 2025-05-31` |
| 変更履歴 | `\| YYYY-MM-DD \| X.X \| 変更内容 \|` | `\| 2025-05-31 \| 1.0 \| 初版作成 \|` |

### エラー防止
- ❌ 過去日付の使用（例：2025-01-27）
- ❌ 未来日付の使用（例：2025-12-31）
- ❌ 同一ドキュメント内での日付不整合
- ❌ 間違った日付形式（例：05/31/2025）

---

## 🛠️ 技術仕様

### GitHub CLI Issue取得ルール
```bash
# ✅ 正しい方法（pagerを無効化）
gh issue view {issue_number} --json title,body,number | cat
gh issue view {issue_number} | cat

# ❌ 間違った方法（pagerで中断される）
gh issue view {issue_number}
gh issue view {issue_number} --json title,body,number
```

**重要**: GitHub CLIコマンドは必ず `| cat` を付けてpagerを無効化すること

### ブランチ命名規則
```
feature/issue-{issue_number}-{sanitized_title}
例: feature/issue-123-cli-interface-specification
```

### コミットメッセージ形式
```
feat(#{issue_number}): {task_description}
例: feat(#123): implement CLI interface specification
```

### Pull Request自動生成
```markdown
## 📋 Issue #{issue_number} の実装

### 🎯 概要
{issue_summary}

### ✅ 完了したタスク
{completed_tasks_list}

### 📝 変更内容
{changes_summary}

### 🔗 関連Issue
Closes #{issue_number}
```

---

## 🔧 設定オプション

### 自動化レベル調整
- **date_consistency**: 日付統一の自動適用（デフォルト: 有効）
- **auto_branch_creation**: ブランチ自動作成（デフォルト: 有効）
- **auto_checkbox_update**: チェックボックス自動更新（デフォルト: 有効）
- **auto_pr_creation**: PR自動作成（デフォルト: 有効）
- **auto_issue_close**: Issue自動クローズ（デフォルト: 無効）
- **progress_reporting**: 進捗自動報告（デフォルト: 有効）

### 品質保証
- **日付一貫性**: 全ドキュメントでの日付統一検証
- **コード品質**: リンター・フォーマッター自動実行
- **テスト実行**: 関連テストの自動実行
- **ドキュメント更新**: 変更に応じた自動更新

---

## 🚨 エラーハンドリング

### 自動復旧機能
- **日付不整合**: 現在日付への自動統一・人間への報告
- **ブランチ作成失敗**: 既存ブランチ確認・適切な名前で再作成
- **Issue構造不備**: 可能な範囲で推測して実行継続
- **タスク実行エラー**: 自動分析・解決策提案
- **PR作成失敗**: 手動作成手順の自動提示

### 人間介入が必要な場合
- アーキテクチャの重要な変更
- 新しい依存関係の追加
- セキュリティに関わる実装
- 複雑な技術的問題

---

## 📊 成功指標

### 自動化効率
- **日付一貫性**: 100%（全ドキュメントで統一）
- **タスク完了率**: 100%（全タスク完了）
- **自動化率**: 90%以上（手動介入10%以下）
- **時間短縮**: 逐次実行比30%以上短縮
- **品質準拠**: 100%（全完了基準満足）

### 協力効果
- **明確なコミュニケーション**: 自動進捗報告
- **迅速な問題解決**: 即座のエラー分析・提案
- **効率的なレビュー**: 構造化されたPR作成

---

## 🎉 使用例

### ドキュメント作成Issue実行
```
ユーザー: @002-execute-github-issue.md #123 を実行して
AI: 
1. 📅 日付確認: 2025-05-31
2. 🌿 ブランチ作成: feature/issue-123-user-authentication-spec
3. 📋 Issue #123 分析完了
4. 📝 実行計画: 認証仕様書作成（3タスク並列実行）
5. [✓] 要件定義書更新（日付: 2025-05-31）
6. [✓] 認証仕様書作成（日付: 2025-05-31）  
7. [✓] ADR作成（決定日: 2025-05-31）
8. 🔀 PR作成: #123: User authentication specification
9. 💬 完了報告投稿
```

### 複雑なIssue実行
```
ユーザー: #456 を実行
AI:
1. 📅 日付確認: 2025-05-31
2. 🌿 ブランチ作成: feature/issue-456-microservice-architecture
3. 📋 依存関係分析: 5タスク（2並列 + 3逐次）
4. [✓] データベース設計書（日付: 2025-05-31）
5. [✓] API仕様書策定（日付: 2025-05-31）
6. [✓] サービス実装（逐次1）
7. [✓] 統合テスト（逐次2）
8. [✓] ドキュメント更新（日付: 2025-05-31）
9. 🔀 PR作成 + 完了報告
```

---

**🎯 このプロンプトにより、GitHub Issueの実行が完全自動化され、ドキュメントの日付一貫性も自動保証されます！** 